"use strict";async function asyncPool(r,n,t){var e=[],a=[],i=!0,o=!1,l=void 0;try{for(var u,c=async function(){var i=u.value,o=Promise.resolve().then(function(){return t(i,n)});e.push(o);var l=o.then(function(){return a.splice(a.indexOf(l),1)});a.push(l),a.length>=r&&await Promise.race(a)},s=n[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)await c()}catch(r){o=!0,l=r}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}return Promise.all(e)}